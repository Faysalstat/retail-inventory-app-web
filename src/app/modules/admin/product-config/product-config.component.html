<mat-card>
<app-page-loader *ngIf="showLoader"></app-page-loader>
<h1>Product Config:</h1>
<hr>
<form [formGroup]="productAddingForm">
    <div class="row">
        <div class="col-md-3">
            <h2>Total Stock: <span>{{product?.quantity - product?.quantitySold}}</span></h2>
        </div>
        <div class="col-md-3">
            <h2>Total Sold: <span>{{product?.quantitySold || 0}}</span></h2>
        </div>
        <div class="col-md-3">
            <h2>Total Damaged: <span>{{product?.quantityDamaged || 0}}</span></h2>
        </div>
        <div class="col-md-3">
            <h2>Total Returned: <span>{{product?.quantityReturn || 0}}</span></h2>
        </div>
        <div class="col-md-3">
            <mat-form-field class="input-field" appearance="outline">
                <mat-label>Product Code</mat-label>
                <input formControlName="productCode" (change)="checkDuplicateProduct()" placeholder="Product Code" matInput>
            </mat-form-field>
        </div>
        <div class="col-md-6">
            <mat-form-field class="input-field" appearance="outline">
                <mat-label>Product Name</mat-label>
                <input formControlName="productName" placeholder="Product Name" matInput>
            </mat-form-field>
        </div>
        <div class="col-md-3">
            <mat-form-field class="input-field" appearance="outline">
                <mat-label>Brand Name</mat-label>
                <mat-select formControlName="brandName">
                    <mat-option *ngFor="let brand of brandNames" [value]="brand.value">{{brand?.label}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-md-2">
            <mat-form-field class="input-field" appearance="outline">
                <mat-label>MRP</mat-label>
                <input type="number" formControlName="mrpPrice" (change)="calculateBuyingPriceAndSellingPrice()" placeholder="MRP (BDT)" matInput>
            </mat-form-field>
        </div>
        <div class="col-md-2">
            <mat-form-field class="input-field" appearance="outline">
                <mat-label>Buying Percentage (%)</mat-label>
                <input type="number" formControlName="buyingPercentage" (change)="calculateBuyingPriceAndSellingPrice()" placeholder="Buying Percentage (%)" matInput>
            </mat-form-field>
        </div>
        <div class="col-md-3">
            <mat-form-field class="input-field" appearance="outline">
                <mat-label>Buying Price</mat-label>
                <input type="number" formControlName="costPricePerUnit" placeholder="Buying Price" matInput>
            </mat-form-field>
        </div>
        <div class="col-md-2">
            <mat-form-field class="input-field" appearance="outline">
                <mat-label>Selling Percentage (%)</mat-label>
                <input type="number" formControlName="sellingPercentage" (change)="calculateBuyingPriceAndSellingPrice()" placeholder="Selling Percentage (%)" matInput>
            </mat-form-field>
        </div>
        
        <div class="col-md-3">
            <mat-form-field class="input-field" appearance="outline">
                <mat-label>Selling Price</mat-label>
                <input type="number" type="number" formControlName="sellingPricePerUnit" placeholder="Selling Price"
                    matInput>
            </mat-form-field>
        </div>
        <div class="col-md-12">
            <p style="color: red;font-weight: bold;">{{errMsg}}</p>
        </div>
        <div class="col-md-12">
            <button (click)="addProduct()" mat-raised-button color="warn">{{isEdit?"Update Product":"Add Product"}}</button>
        </div>
    </div>
</form>
</mat-card>